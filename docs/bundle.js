!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=13)}({0:function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},13:function(e,t,n){"use strict";n.r(t);var i=n(2),o=n.n(i),r={android:function(){return navigator.userAgent.match(/Android/i)},blackberry:function(){return navigator.userAgent.match(/BlackBerry/i)},ios:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},opera:function(){return navigator.userAgent.match(/Opera Mini/i)},windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return r.android()||r.blackberry()||r.ios()||r.opera()||r.windows()}},a=r;var c={init:function(){var e=[-74.331,41.261];mapboxgl.accessToken="pk.eyJ1IjoiZG9jazQyNDIiLCJhIjoiY2pjazE5eTM2NDl2aDJ3cDUyeDlsb292NiJ9.Jr__XbmAolbLyzPDj7-8kQ";var t=new mapboxgl.Map({container:"map",style:"mapbox://styles/dock4242/cjnugndzr4rkn2spbxk0cnps5?optimize=true",center:[e[0],e[1]],zoom:6,pitch:0,bearing:0,interactive:!1});t.scrollZoom.disable(),t.on("load",function(e){}),t.on("click",function(e){t.flyTo({pitch:60})});var n=[{city_name:"Hong Kong",city_id:"hong_kong",location:{center:[113.570587,22.78],zoom:7.13,bearing:0,pitch:60}},{city_name:"Lagos",city_id:"lagos",location:{center:[3.32,6.58],zoom:7.13,bearing:0,pitch:60}},{city_name:"Kinshasa",city_id:"kinshasa",location:{center:[15.31,-4.36],zoom:7.13,bearing:-82.38,pitch:60}},{city_name:"New York City",city_id:"new_york_city",location:{center:[-73.98,40.76],zoom:7.13,bearing:-33.19,pitch:60}},{city_name:"London",city_id:"london",location:{center:[-.23,51.43],zoom:7.13,bearing:-19.59,pitch:60}},{city_name:"Paris",city_id:"paris",location:{center:[2.228,48.88],zoom:7.13,bearing:-19.59,pitch:60}},{city_name:"Karachi",city_id:"kirachi",location:{center:[67.065,24.95],zoom:7.13,bearing:73.21,pitch:60}},{city_name:"Bangalore",city_id:"bangalore",location:{center:[77.511,13.109],zoom:7.13,bearing:-23.18,pitch:60}},{city_name:"Mexico City",city_id:"mexico_city",location:{center:[-99.12,19.319],zoom:7.13,bearing:.74,pitch:60}},{city_name:"Singapore",city_id:"singapore",location:{center:[103.838,1.411],zoom:8.63,bearing:-38.48,pitch:60}}];for(var i in n){var o=Math.floor(440),r=o+50,a=n[i].location,c=a.bearing,s=a.pitch;console.log(a.center);var u=a.center[1],l=a.center[0],d=(a.zoom,"https://api.mapbox.com/styles/v1/dock4242/cjnugndzr4rkn2spbxk0cnps5/static/"+l+","+u+",6.9,"+c+","+s+"/"+o+"x"+r+"?access_token=pk.eyJ1IjoiZG9jazQyNDIiLCJhIjoiY2pjazE5eTM2NDl2aDJ3cDUyeDlsb292NiJ9.Jr__XbmAolbLyzPDj7-8kQ"),f=d3.select(".single-year-wrapper").append("div").attr("class","img-wrapper");f.append("img").attr("src",d),f.append("p").attr("class","city-name").html("<span>"+n[i].city_name+"</span>We found fascinating patterns in the arrangements of buildings. Traditional road maps highlight streets and highways; here they show up as a linear absence.")}var p=new ScrollMagic.Controller,g=0,m=0;new ScrollMagic.Scene({triggerElement:"#fixed-map",duration:d3.select(".scroll__text").node().getBoundingClientRect().height-Math.max(document.documentElement.clientHeight,window.innerHeight||0)/2,offset:0,triggerHook:0}).addIndicators({name:"hi there"}).setPin("#fixed-map",{pushfollowers:!1}).addTo(p),new ScrollMagic.Scene({triggerElement:"#tilt-shift-step",duration:d3.select("#tilt-shift-step").node().getBoundingClientRect().height,offset:0,triggerHook:.5}).on("progress",function(e){var n=e.progress;(n=Math.round(50*n)/50)!=g&&(g=n,t.jumpTo({pitch:60*g}))}).addTo(p),new ScrollMagic.Scene({triggerElement:"#rotate-step",duration:d3.select("#rotate-step").node().getBoundingClientRect().height,offset:0,triggerHook:.5}).on("progress",function(e){var n=e.progress;(n=Math.round(50*n)/50)!=m&&(m=n,t.jumpTo({bearing:-65.6*m}))}).addIndicators({name:"spin"}).addTo(p)},resize:function(){}},s=d3.select("body"),u=0;function l(){var e=s.node().offsetWidth;u!==e&&(u=e,c.resize())}s.classed("is-mobile",a.any()),window.addEventListener("resize",o()(l,150)),function(){if(s.select("header").classed("is-sticky")){var e=s.select(".header__menu"),t=s.select(".header__toggle");t.on("click",function(){var n=e.classed("is-visible");e.classed("is-visible",!n),t.classed("is-visible",!n)})}}(),c.init()},2:function(e,t,n){(function(t){var n="Expected a function",i=NaN,o="[object Symbol]",r=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,s=/^0o[0-7]+$/i,u=parseInt,l="object"==typeof t&&t&&t.Object===Object&&t,d="object"==typeof self&&self&&self.Object===Object&&self,f=l||d||Function("return this")(),p=Object.prototype.toString,g=Math.max,m=Math.min,y=function(){return f.Date.now()};function h(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function b(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&p.call(e)==o}(e))return i;if(h(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=h(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var n=c.test(e);return n||s.test(e)?u(e.slice(2),n?2:8):a.test(e)?i:+e}e.exports=function(e,t,i){var o,r,a,c,s,u,l=0,d=!1,f=!1,p=!0;if("function"!=typeof e)throw new TypeError(n);function v(t){var n=o,i=r;return o=r=void 0,l=t,c=e.apply(i,n)}function _(e){var n=e-u;return void 0===u||n>=t||n<0||f&&e-l>=a}function j(){var e=y();if(_(e))return w(e);s=setTimeout(j,function(e){var n=t-(e-u);return f?m(n,a-(e-l)):n}(e))}function w(e){return s=void 0,p&&o?v(e):(o=r=void 0,c)}function k(){var e=y(),n=_(e);if(o=arguments,r=this,u=e,n){if(void 0===s)return function(e){return l=e,s=setTimeout(j,t),d?v(e):c}(u);if(f)return s=setTimeout(j,t),v(u)}return void 0===s&&(s=setTimeout(j,t)),c}return t=b(t)||0,h(i)&&(d=!!i.leading,a=(f="maxWait"in i)?g(b(i.maxWait)||0,t):a,p="trailing"in i?!!i.trailing:p),k.cancel=function(){void 0!==s&&clearTimeout(s),l=0,o=u=r=s=void 0},k.flush=function(){return void 0===s?c:w(y())},k}}).call(this,n(0))}});